def solve(I):
    x1 = hsplit(I, TWO)
    x2 = apply(numcolors, x1)
    x3 = equality(x2, TWO_BY_TWO)
    x4 = branch(x3, hsplit, vsplit)
    x5 = x4(I, TWO)
    x6 = first(x5)
    x7 = last(x5)
    x8 = palette(x6)
    x9 = palette(x7)
    x10 = intersection(x8, x9)
    x11 = first(x10)
    x12 = palette(x6)
    x13 = other(x12, x11)
    x14 = palette(x7)
    x15 = other(x14, x11)
    x16 = shape(x6)
    x17 = canvas(x11, x16)
    x18 = ofcolor(x6, x13)
    x19 = ofcolor(x7, x15)
    x20 = combine(x18, x19)
    O = fill(x17, EIGHT, x20)
    return O


def solve(I):
    x1 = width(I)
    x2 = halve(x1)
    x3 = tojvec(x2)
    x4 = height(I)
    x5 = decrement(x4)
    x6 = astuple(x5, x2)
    x7 = connect(x3, x6)
    x8 = toobject(x7, I)
    x9 = numcolors(x8)
    x10 = equality(x9, ONE)
    x11 = branch(x10, lefthalf, tophalf)
    x12 = branch(x10, righthalf, bottomhalf)
    x13 = x11(I)
    x14 = x12(I)
    x15 = palette(x13)
    x16 = other(x15, ZERO)
    x17 = palette(x14)
    x18 = other(x17, ZERO)
    x19 = shape(x13)
    x20 = canvas(ZERO, x19)
    x21 = ofcolor(x13, x16)
    x22 = ofcolor(x14, x18)
    x23 = combine(x21, x22)
    O = fill(x20, EIGHT, x23)
    return O


